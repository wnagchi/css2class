# Class2CSS TypeScript è¿ç§»è¿›åº¦æŠ¥å‘Š

## ğŸ¯ è¿ç§»ç›®æ ‡
å°† Class2CSS é¡¹ç›®ä» JavaScript å®Œå…¨è¿ç§»åˆ° TypeScriptï¼Œè·å¾—ç±»å‹å®‰å…¨ã€æ›´å¥½çš„å¼€å‘ä½“éªŒå’Œä»£ç è´¨é‡ä¿éšœã€‚

## âœ… å·²å®Œæˆçš„è¿ç§»

### æ ¸å¿ƒåŸºç¡€è®¾æ–½
- âœ… **TypeScript ç¯å¢ƒé…ç½®** - tsconfig.jsonã€nodemon.jsonã€æ„å»ºè„šæœ¬
- âœ… **ç±»å‹ç³»ç»Ÿè®¾è®¡** - å®Œæ•´çš„æ¥å£å®šä¹‰å’Œç±»å‹å£°æ˜
- âœ… **EventBus äº‹ä»¶æ€»çº¿** - å®Œæ•´çš„ç±»å‹å®‰å…¨äº‹ä»¶ç³»ç»Ÿ
- âœ… **StateManager çŠ¶æ€ç®¡ç†** - å¤æ‚çŠ¶æ€ç®¡ç†çš„TypeScriptå®ç°

### é…ç½®å’Œæ—¥å¿—ç³»ç»Ÿ
- âœ… **ConfigManager é…ç½®ç®¡ç†** - å®Œæ•´çš„é…ç½®åŠ è½½å’ŒéªŒè¯
- âœ… **Logger æ—¥å¿—ç³»ç»Ÿ** - å¤šçº§åˆ«æ—¥å¿—ã€æ€§èƒ½ç›‘æ§ã€é”™è¯¯è¿½è¸ª

### ä¸»å…¥å£å’ŒCLI
- âœ… **ä¸»å…¥å£æ–‡ä»¶** - ä½¿ç”¨çœŸå®TypeScriptæ¨¡å—
- âœ… **CLIå·¥å…·** - å®Œæ•´çš„å‘½ä»¤è¡Œæ¥å£
- âœ… **æ„å»ºç³»ç»Ÿ** - è‡ªåŠ¨åŒ–æ„å»ºå’Œç±»å‹æ£€æŸ¥

## ğŸ“ å½“å‰é¡¹ç›®çŠ¶æ€

### å·²è¿ç§»çš„TypeScriptæ–‡ä»¶
```
src/
â”œâ”€â”€ index.ts                    âœ… ä¸»å…¥å£æ–‡ä»¶
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ EventBus.ts            âœ… äº‹ä»¶æ€»çº¿
â”‚   â”œâ”€â”€ StateManager.ts        âœ… çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ ConfigManager.ts       âœ… é…ç½®ç®¡ç†
â”œâ”€â”€ utils/
â”‚   â””â”€â”€ Logger.ts              âœ… æ—¥å¿—å·¥å…·
â””â”€â”€ types/
    â””â”€â”€ index.d.ts              âœ… ç±»å‹å®šä¹‰

bin/
â””â”€â”€ class2css.ts               âœ… CLIå·¥å…·

dist/                          âœ… ç¼–è¯‘è¾“å‡º
â”œâ”€â”€ bin/class2css.js           âœ… å¯æ‰§è¡ŒCLI
â””â”€â”€ src/                       âœ… ç¼–è¯‘åçš„åº“æ–‡ä»¶
```

### å¾…è¿ç§»çš„JavaScriptæ–‡ä»¶
```
src/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ CacheManager.js        â³ ç¼“å­˜ç®¡ç†
â”‚   â”œâ”€â”€ CompatibilityAdapter.js â³ å…¼å®¹æ€§é€‚é…
â”‚   â”œâ”€â”€ ConfigValidator.js     â³ é…ç½®éªŒè¯
â”‚   â””â”€â”€ FullScanManager.js     â³ å…¨é‡æ‰«æç®¡ç†
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ ClassChangeTracker.js  â³ ç±»å˜æ›´è¿½è¸ª
â”‚   â”œâ”€â”€ ConfigDiagnostics.js   â³ é…ç½®è¯Šæ–­
â”‚   â”œâ”€â”€ FileUtils.js           â³ æ–‡ä»¶å·¥å…·
â”‚   â”œâ”€â”€ Throttle.js            â³ èŠ‚æµå·¥å…·
â”‚   â””â”€â”€ UnitProcessor.js       â³ å•ä½å¤„ç†
â”œâ”€â”€ parsers/
â”‚   â”œâ”€â”€ ClassParser.js         â³ ç±»è§£æå™¨
â”‚   â”œâ”€â”€ ImportantParser.js     â³ Importantè§£æå™¨
â”‚   â””â”€â”€ RegexCompiler.js       â³ æ­£åˆ™ç¼–è¯‘å™¨
â”œâ”€â”€ generators/
â”‚   â””â”€â”€ DynamicClassGenerator.js â³ åŠ¨æ€ç±»ç”Ÿæˆå™¨
â”œâ”€â”€ watchers/
â”‚   â”œâ”€â”€ ConfigWatcher.js       â³ é…ç½®ç›‘å¬
â”‚   â””â”€â”€ FileWatcher.js         â³ æ–‡ä»¶ç›‘å¬
â”œâ”€â”€ writers/
â”‚   â”œâ”€â”€ FileWriter.js          â³ æ–‡ä»¶å†™å…¥
â”‚   â””â”€â”€ UnifiedWriter.js        â³ ç»Ÿä¸€å†™å…¥
â””â”€â”€ example.js                 â³ ç¤ºä¾‹æ–‡ä»¶

configs/                        â³ é…ç½®æ¨¡å—
â”œâ”€â”€ colors.config.js
â”œâ”€â”€ layout.config.js
â”œâ”€â”€ spacing.config.js
â””â”€â”€ typography.config.js

bin/class2css.js               â³ æ—§ç‰ˆCLI
run.js                          â³ æ—§ç‰ˆå¯åŠ¨è„šæœ¬
```

## ğŸ”§ æŠ€æœ¯ç‰¹æ€§

### å·²å®ç°çš„TypeScriptç‰¹æ€§
- âœ… **ä¸¥æ ¼ç±»å‹æ£€æŸ¥** - å¯ç”¨æ‰€æœ‰ä¸¥æ ¼æ£€æŸ¥é€‰é¡¹
- âœ… **ç±»å‹æ¨å¯¼** - æ™ºèƒ½ç±»å‹æ¨å¯¼å’Œæ¨æ–­
- âœ… **æ¥å£è®¾è®¡** - æ¸…æ™°çš„æ¨¡å—æ¥å£å®šä¹‰
- âœ… **æ³›å‹æ”¯æŒ** - çµæ´»çš„æ³›å‹ç±»å‹ç³»ç»Ÿ
- âœ… **æ¨¡å—åŒ–** - æ¸…æ™°çš„æ¨¡å—ä¾èµ–å…³ç³»
- âœ… **äº‹ä»¶ç³»ç»Ÿ** - ç±»å‹å®‰å…¨çš„äº‹ä»¶é€šä¿¡

### é…ç½®å…¼å®¹æ€§
- âœ… **æ–°ç‰ˆé…ç½®æ”¯æŒ** - å®Œæ•´çš„systemé…ç½®ç»“æ„
- âœ… **æ—§ç‰ˆé…ç½®å…¼å®¹** - å‘åå…¼å®¹çš„é…ç½®æ ¼å¼
- âœ… **é…ç½®éªŒè¯** - ä¸¥æ ¼çš„é…ç½®éªŒè¯å’Œé”™è¯¯æç¤º
- âœ… **åŠ¨æ€åŠ è½½** - æ”¯æŒé…ç½®æ–‡ä»¶çƒ­æ›´æ–°

## ğŸš€ ä½¿ç”¨æ–¹å¼

### å¼€å‘æ¨¡å¼
```bash
npm run dev:ts    # TypeScriptå¼€å‘æ¨¡å¼
npm run dev       # nodemonç›‘å¬æ¨¡å¼
npm run build     # æ„å»ºTypeScript
```

### ç”Ÿäº§æ¨¡å¼
```bash
npm start         # è¿è¡Œç¼–è¯‘åçš„JavaScript
node dist/bin/class2css.js --help
```

### ç±»å‹æ£€æŸ¥
```bash
npm run type-check  # ç±»å‹æ£€æŸ¥
npm run lint        # ä»£ç æ£€æŸ¥
```

## ğŸ“Š è¿ç§»ç»Ÿè®¡

- **å·²è¿ç§»æ–‡ä»¶**: 7ä¸ªæ ¸å¿ƒæ–‡ä»¶
- **å¾…è¿ç§»æ–‡ä»¶**: çº¦25ä¸ªæ–‡ä»¶
- **å®Œæˆè¿›åº¦**: ~22%
- **ç±»å‹è¦†ç›–ç‡**: æ ¸å¿ƒæ¨¡å—100%

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

1. **ç»§ç»­è¿ç§»æ ¸å¿ƒæ¨¡å—**
   - CacheManager (ç¼“å­˜ç®¡ç†)
   - FileUtils (æ–‡ä»¶å·¥å…·)
   - Throttle (èŠ‚æµå·¥å…·)

2. **è¿ç§»è§£æå™¨æ¨¡å—**
   - ClassParser (ç±»è§£æå™¨)
   - ImportantParser (Importantè§£æå™¨)
   - RegexCompiler (æ­£åˆ™ç¼–è¯‘å™¨)

3. **è¿ç§»ç”Ÿæˆå™¨æ¨¡å—**
   - DynamicClassGenerator (åŠ¨æ€ç±»ç”Ÿæˆå™¨)

4. **è¿ç§»ç›‘å¬å™¨æ¨¡å—**
   - FileWatcher (æ–‡ä»¶ç›‘å¬)
   - ConfigWatcher (é…ç½®ç›‘å¬)

5. **æ¸…ç†å’Œä¼˜åŒ–**
   - åˆ é™¤æ—§çš„JavaScriptæ–‡ä»¶
   - æ›´æ–°æ–‡æ¡£
   - æ€§èƒ½ä¼˜åŒ–

## ğŸ’¡ è¿ç§»æ”¶ç›Š

### å·²è·å¾—çš„æ”¶ç›Š
- **ç±»å‹å®‰å…¨**: ç¼–è¯‘æ—¶é”™è¯¯æ£€æŸ¥ï¼Œå‡å°‘è¿è¡Œæ—¶é”™è¯¯
- **IDEæ”¯æŒ**: æ™ºèƒ½ä»£ç è¡¥å…¨ã€é‡æ„ã€å¯¼èˆª
- **ä»£ç è´¨é‡**: æ›´æ¸…æ™°çš„ä»£ç ç»“æ„å’Œæ¥å£
- **ç»´æŠ¤æ€§**: æ›´å¥½çš„æ¨¡å—åŒ–å’Œä¾èµ–ç®¡ç†

### é¢„æœŸæ”¶ç›Š
- **å¼€å‘æ•ˆç‡**: æ˜¾è‘—æå‡å¼€å‘ä½“éªŒ
- **ä»£ç å¥å£®æ€§**: å‡å°‘bugï¼Œæé«˜ç¨³å®šæ€§
- **å›¢é˜Ÿåä½œ**: ç»Ÿä¸€çš„ä»£ç æ ‡å‡†å’Œæ¥å£
- **é•¿æœŸç»´æŠ¤**: é™ä½ç»´æŠ¤æˆæœ¬

---

## ğŸ”— ç›¸å…³é“¾æ¥
- [TypeScriptå®˜æ–¹æ–‡æ¡£](https://www.typescriptlang.org/)
- [æ„å»ºé…ç½®](./tsconfig.json)
- [ç±»å‹å®šä¹‰](./types/index.d.ts)
- [è¿ç§»æŒ‡å—](./MIGRATION.md)